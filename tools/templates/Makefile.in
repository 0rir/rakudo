# Template Makefile

@backends_ctx( @backend@-include)@

@include(Makefile-common-macros)@

LAUNCHER = @default_prefix@-runner-default

all: @backends_ctx(@backend_prefix@-all)@ $(LAUNCHER)

install: @backends_ctx(@backend_prefix@-install )@ $(LAUNCHER)-install

clean: @backends_ctx(@backend_prefix@-clean )@ $(LAUNCHER)-clean
	$(RM_F) perl6@runner_suffix@

test: 		@backends_ctx(@backend_prefix@-test$(HARNESS_TYPE))@
spectest: 	@backends_ctx(@backend_prefix@-spectest$(HARNESS_TYPE))@
coretest: 	@backends_ctx(@backend_prefix@-coretest$(HARNESS_TYPE))@
localtest: 	@backends_ctx(@backend_prefix@-localtest$(HARNESS_TYPE))@
stresstest: @backends_ctx(@backend_prefix@-stresstest$(HARNESS_TYPE))@

@include(Makefile-common-rules)@

@backends_ctx(@ctx_include(Makefile)@)@

t/*/*.t t/*.t t/*/*/*.t: all
        $(@uc(@default_prefix@)@_HARNESS5_WITH_FUDGE) --verbosity=1 $@
